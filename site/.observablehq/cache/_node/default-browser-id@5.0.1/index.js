import{promisify as a}from"node:util";import o from"node:process";import{execFile as t}from"node:child_process";const p=a(t);async function c(){if(o.platform!=="darwin")throw new Error("macOS only");const{stdout:r}=await p("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]),e=/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(r)?.groups.id??"com.apple.Safari";return e==="com.apple.safari"?"com.apple.Safari":e}export{c as default};
