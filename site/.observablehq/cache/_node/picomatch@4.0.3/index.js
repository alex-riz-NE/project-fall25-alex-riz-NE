function z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V={};const X="\\\\/",$t=`[^${X}]`,W="\\.",Gt="\\+",Dt="\\?",at="\\/",Mt="(?=.)",gt="[^/]",pt=`(?:${at}|$)`,Ct=`(?:^|${at})`,lt=`${W}{1,2}${pt}`,Pt=`(?!${W})`,Kt=`(?!${Ct}${lt})`,Ut=`(?!${W}{0,1}${pt})`,Xt=`(?!${lt})`,Ft=`[^.${at}]`,Qt=`${gt}*?`,Wt="/",yt={DOT_LITERAL:W,PLUS_LITERAL:Gt,QMARK_LITERAL:Dt,SLASH_LITERAL:at,ONE_CHAR:Mt,QMARK:gt,END_ANCHOR:pt,DOTS_SLASH:lt,NO_DOT:Pt,NO_DOTS:Kt,NO_DOT_SLASH:Ut,NO_DOTS_SLASH:Xt,QMARK_NO_DOT:Ft,STAR:Qt,START_ANCHOR:Ct,SEP:Wt},qt={...yt,SLASH_LITERAL:`[${X}]`,QMARK:$t,STAR:`${$t}*?`,DOTS_SLASH:`${W}{1,2}(?:[${X}]|$)`,NO_DOT:`(?!${W})`,NO_DOTS:`(?!(?:^|[${X}])${W}{1,2}(?:[${X}]|$))`,NO_DOT_SLASH:`(?!${W}{0,1}(?:[${X}]|$))`,NO_DOTS_SLASH:`(?!${W}{1,2}(?:[${X}]|$))`,QMARK_NO_DOT:`[^.${X}]`,START_ANCHOR:`(?:^|[${X}])`,END_ANCHOR:`(?:[${X}]|$)`,SEP:"\\"},jt={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var tt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:jt,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{__proto__:null,"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?qt:yt}};z(tt),function(t){const{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:e,REGEX_SPECIAL_CHARS:S,REGEX_SPECIAL_CHARS_GLOBAL:c}=tt;t.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t.hasRegexChars=r=>S.test(r),t.isRegexChar=r=>r.length===1&&t.hasRegexChars(r),t.escapeRegex=r=>r.replace(c,"\\$1"),t.toPosixSlashes=r=>r.replace(i,"/"),t.isWindows=()=>{if(typeof navigator<"u"&&navigator.platform){const r=navigator.platform.toLowerCase();return r==="win32"||r==="windows"}return typeof process<"u"&&process.platform?process.platform==="win32":!1},t.removeBackslashes=r=>r.replace(e,p=>p==="\\"?"":p),t.escapeLast=(r,p,l)=>{const A=r.lastIndexOf(p,l);return A===-1?r:r[A-1]==="\\"?t.escapeLast(r,p,A-1):`${r.slice(0,A)}\\${r.slice(A)}`},t.removePrefix=(r,p={})=>{let l=r;return l.startsWith("./")&&(l=l.slice(2),p.prefix="./"),l},t.wrapOutput=(r,p={},l={})=>{const A=l.contains?"":"^",T=l.contains?"":"$";let h=`${A}(?:${r})${T}`;return p.negated===!0&&(h=`(?:^(?!${h}).*$)`),h},t.basename=(r,{windows:p}={})=>{const l=r.split(p?/[\\/]/:"/"),A=l[l.length-1];return A===""?l[l.length-2]:A}}(V),z(V);const St=V,{CHAR_ASTERISK:ct,CHAR_AT:Zt,CHAR_BACKWARD_SLASH:et,CHAR_COMMA:Yt,CHAR_DOT:ft,CHAR_EXCLAMATION_MARK:At,CHAR_FORWARD_SLASH:bt,CHAR_LEFT_CURLY_BRACE:Rt,CHAR_LEFT_PARENTHESES:_t,CHAR_LEFT_SQUARE_BRACKET:zt,CHAR_PLUS:Vt,CHAR_QUESTION_MARK:xt,CHAR_RIGHT_CURLY_BRACE:Jt,CHAR_RIGHT_PARENTHESES:Ht,CHAR_RIGHT_SQUARE_BRACKET:te}=tt,vt=t=>t===bt||t===et,dt=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},ee=(t,i)=>{const e=i||{},S=t.length-1,c=e.parts===!0||e.scanToEnd===!0,r=[],p=[],l=[];let A=t,T=-1,h=0,O=0,k=!1,B=!1,C=!1,m=!1,j=!1,K=!1,g=!1,U=!1,Z=!1,w=!1,N=0,D,f,_={value:"",depth:0,isGlob:!1};const n=()=>T>=S,G=()=>A.charCodeAt(T+1),v=()=>(D=f,A.charCodeAt(++T));for(;T<S;){f=v();let $;if(f===et){g=_.backslashes=!0,f=v(),f===Rt&&(K=!0);continue}if(K===!0||f===Rt){for(N++;n()!==!0&&(f=v());){if(f===et){g=_.backslashes=!0,v();continue}if(f===Rt){N++;continue}if(K!==!0&&f===ft&&(f=v())===ft){if(k=_.isBrace=!0,C=_.isGlob=!0,w=!0,c===!0)continue;break}if(K!==!0&&f===Yt){if(k=_.isBrace=!0,C=_.isGlob=!0,w=!0,c===!0)continue;break}if(f===Jt&&(N--,N===0)){K=!1,k=_.isBrace=!0,w=!0;break}}if(c===!0)continue;break}if(f===bt){if(r.push(T),p.push(_),_={value:"",depth:0,isGlob:!1},w===!0)continue;if(D===ft&&T===h+1){h+=2;continue}O=T+1;continue}if(e.noext!==!0&&(f===Vt||f===Zt||f===ct||f===xt||f===At)&&G()===_t){if(C=_.isGlob=!0,m=_.isExtglob=!0,w=!0,f===At&&T===h&&(Z=!0),c===!0){for(;n()!==!0&&(f=v());){if(f===et){g=_.backslashes=!0,f=v();continue}if(f===Ht){C=_.isGlob=!0,w=!0;break}}continue}break}if(f===ct){if(D===ct&&(j=_.isGlobstar=!0),C=_.isGlob=!0,w=!0,c===!0)continue;break}if(f===xt){if(C=_.isGlob=!0,w=!0,c===!0)continue;break}if(f===zt){for(;n()!==!0&&($=v());){if($===et){g=_.backslashes=!0,v();continue}if($===te){B=_.isBracket=!0,C=_.isGlob=!0,w=!0;break}}if(c===!0)continue;break}if(e.nonegate!==!0&&f===At&&T===h){U=_.negated=!0,h++;continue}if(e.noparen!==!0&&f===_t){if(C=_.isGlob=!0,c===!0){for(;n()!==!0&&(f=v());){if(f===_t){g=_.backslashes=!0,f=v();continue}if(f===Ht){w=!0;break}}continue}break}if(C===!0){if(w=!0,c===!0)continue;break}}e.noext===!0&&(m=!1,C=!1);let x=A,u="",o="";h>0&&(u=A.slice(0,h),A=A.slice(h),O-=h),x&&C===!0&&O>0?(x=A.slice(0,O),o=A.slice(O)):C===!0?(x="",o=A):x=A,x&&x!==""&&x!=="/"&&x!==A&&vt(x.charCodeAt(x.length-1))&&(x=x.slice(0,-1)),e.unescape===!0&&(o&&(o=St.removeBackslashes(o)),x&&g===!0&&(x=St.removeBackslashes(x)));const M={prefix:u,input:t,start:h,base:x,glob:o,isBrace:k,isBracket:B,isGlob:C,isExtglob:m,isGlobstar:j,negated:U,negatedExtglob:Z};if(e.tokens===!0&&(M.maxDepth=0,vt(f)||p.push(_),M.tokens=p),e.parts===!0||e.tokens===!0){let $;for(let b=0;b<r.length;b++){const Q=$?$+1:h,P=r[b],q=t.slice(Q,P);e.tokens&&(b===0&&h!==0?(p[b].isPrefix=!0,p[b].value=u):p[b].value=q,dt(p[b]),M.maxDepth+=p[b].depth),(b!==0||q!=="")&&l.push(q),$=P}if($&&$+1<t.length){const b=t.slice($+1);l.push(b),e.tokens&&(p[p.length-1].value=b,dt(p[p.length-1]),M.maxDepth+=p[p.length-1].depth)}M.slashes=r,M.parts=l}return M};var Tt=ee;z(Tt);const st=tt,F=V,{MAX_LENGTH:rt,POSIX_REGEX_SOURCE:ue,REGEX_NON_SPECIAL_CHARS:oe,REGEX_SPECIAL_CHARS_BACKREF:ne,REPLACEMENTS:Lt}=st,ae=(t,i)=>{if(typeof i.expandRange=="function")return i.expandRange(...t,i);t.sort();const e=`[${t.join("-")}]`;try{new RegExp(e)}catch{return t.map(S=>F.escapeRegex(S)).join("..")}return e},J=(t,i)=>`Missing ${t}: "${i}" - use "\\\\${i}" to match literal characters`,Et=(t,i)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Lt[t]||t;const e={...i},S=typeof e.maxLength=="number"?Math.min(rt,e.maxLength):rt;let c=t.length;if(c>S)throw new SyntaxError(`Input length: ${c}, exceeds maximum allowed length: ${S}`);const r={type:"bos",value:"",output:e.prepend||""},p=[r],l=e.capture?"":"?:",A=st.globChars(e.windows),T=st.extglobChars(A),{DOT_LITERAL:h,PLUS_LITERAL:O,SLASH_LITERAL:k,ONE_CHAR:B,DOTS_SLASH:C,NO_DOT:m,NO_DOT_SLASH:j,NO_DOTS_SLASH:K,QMARK:g,QMARK_NO_DOT:U,STAR:Z,START_ANCHOR:w}=A,N=s=>`(${l}(?:(?!${w}${s.dot?C:h}).)*?)`,D=e.dot?"":m,f=e.dot?g:U;let _=e.bash===!0?N(e):Z;e.capture&&(_=`(${_})`),typeof e.noext=="boolean"&&(e.noextglob=e.noext);const n={input:t,index:-1,start:0,dot:e.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:p};t=F.removePrefix(t,n),c=t.length;const G=[],v=[],x=[];let u=r,o;const M=()=>n.index===c-1,$=n.peek=(s=1)=>t[n.index+s],b=n.advance=()=>t[++n.index]||"",Q=()=>t.slice(n.index+1),P=(s="",y=0)=>{n.consumed+=s,n.index+=y},q=s=>{n.output+=s.output!=null?s.output:s.value,P(s.value)},It=()=>{let s=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)b(),n.start++,s++;return s%2===0?!1:(n.negated=!0,n.start++,!0)},ut=s=>{n[s]++,x.push(s)},Y=s=>{n[s]--,x.pop()},E=s=>{if(u.type==="globstar"){const y=n.braces>0&&(s.type==="comma"||s.type==="brace"),a=s.extglob===!0||G.length&&(s.type==="pipe"||s.type==="paren");s.type!=="slash"&&s.type!=="paren"&&!y&&!a&&(n.output=n.output.slice(0,-u.output.length),u.type="star",u.value="*",u.output=_,n.output+=u.output)}if(G.length&&s.type!=="paren"&&(G[G.length-1].inner+=s.value),(s.value||s.output)&&q(s),u&&u.type==="text"&&s.type==="text"){u.output=(u.output||u.value)+s.value,u.value+=s.value;return}s.prev=u,p.push(s),u=s},ot=(s,y)=>{const a={...T[y],conditions:1,inner:""};a.prev=u,a.parens=n.parens,a.output=n.output;const R=(e.capture?"(":"")+a.open;ut("parens"),E({type:s,value:y,output:n.output?"":B}),E({type:"paren",extglob:!0,value:b(),output:R}),G.push(a)},Bt=s=>{let y=s.close+(e.capture?")":""),a;if(s.type==="negate"){let R=_;if(s.inner&&s.inner.length>1&&s.inner.includes("/")&&(R=N(e)),(R!==_||M()||/^\)+$/.test(Q()))&&(y=s.close=`)$))${R}`),s.inner.includes("*")&&(a=Q())&&/^\.[^\\/.]+$/.test(a)){const d=Et(a,{...i,fastpaths:!1}).output;y=s.close=`)${d})${R})`}s.prev.type==="bos"&&(n.negatedExtglob=!0)}E({type:"paren",extglob:!0,value:o,output:y}),Y("parens")};if(e.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let s=!1,y=t.replace(ne,(a,R,d,I,L,it)=>I==="\\"?(s=!0,a):I==="?"?R?R+I+(L?g.repeat(L.length):""):it===0?f+(L?g.repeat(L.length):""):g.repeat(d.length):I==="."?h.repeat(d.length):I==="*"?R?R+I+(L?_:""):_:R?a:`\\${a}`);return s===!0&&(e.unescape===!0?y=y.replace(/\\/g,""):y=y.replace(/\\+/g,a=>a.length%2===0?"\\\\":a?"\\":"")),y===t&&e.contains===!0?(n.output=t,n):(n.output=F.wrapOutput(y,n,i),n)}for(;!M();){if(o=b(),o==="\0")continue;if(o==="\\"){const a=$();if(a==="/"&&e.bash!==!0||a==="."||a===";")continue;if(!a){o+="\\",E({type:"text",value:o});continue}const R=/^\\+/.exec(Q());let d=0;if(R&&R[0].length>2&&(d=R[0].length,n.index+=d,d%2!==0&&(o+="\\")),e.unescape===!0?o=b():o+=b(),n.brackets===0){E({type:"text",value:o});continue}}if(n.brackets>0&&(o!=="]"||u.value==="["||u.value==="[^")){if(e.posix!==!1&&o===":"){const a=u.value.slice(1);if(a.includes("[")&&(u.posix=!0,a.includes(":"))){const R=u.value.lastIndexOf("["),d=u.value.slice(0,R),I=u.value.slice(R+2),L=ue[I];if(L){u.value=d+L,n.backtrack=!0,b(),!r.output&&p.indexOf(u)===1&&(r.output=B);continue}}}(o==="["&&$()!==":"||o==="-"&&$()==="]")&&(o=`\\${o}`),o==="]"&&(u.value==="["||u.value==="[^")&&(o=`\\${o}`),e.posix===!0&&o==="!"&&u.value==="["&&(o="^"),u.value+=o,q({value:o});continue}if(n.quotes===1&&o!=='"'){o=F.escapeRegex(o),u.value+=o,q({value:o});continue}if(o==='"'){n.quotes=n.quotes===1?0:1,e.keepQuotes===!0&&E({type:"text",value:o});continue}if(o==="("){ut("parens"),E({type:"paren",value:o});continue}if(o===")"){if(n.parens===0&&e.strictBrackets===!0)throw new SyntaxError(J("opening","("));const a=G[G.length-1];if(a&&n.parens===a.parens+1){Bt(G.pop());continue}E({type:"paren",value:o,output:n.parens?")":"\\)"}),Y("parens");continue}if(o==="["){if(e.nobracket===!0||!Q().includes("]")){if(e.nobracket!==!0&&e.strictBrackets===!0)throw new SyntaxError(J("closing","]"));o=`\\${o}`}else ut("brackets");E({type:"bracket",value:o});continue}if(o==="]"){if(e.nobracket===!0||u&&u.type==="bracket"&&u.value.length===1){E({type:"text",value:o,output:`\\${o}`});continue}if(n.brackets===0){if(e.strictBrackets===!0)throw new SyntaxError(J("opening","["));E({type:"text",value:o,output:`\\${o}`});continue}Y("brackets");const a=u.value.slice(1);if(u.posix!==!0&&a[0]==="^"&&!a.includes("/")&&(o=`/${o}`),u.value+=o,q({value:o}),e.literalBrackets===!1||F.hasRegexChars(a))continue;const R=F.escapeRegex(u.value);if(n.output=n.output.slice(0,-u.value.length),e.literalBrackets===!0){n.output+=R,u.value=R;continue}u.value=`(${l}${R}|${u.value})`,n.output+=u.value;continue}if(o==="{"&&e.nobrace!==!0){ut("braces");const a={type:"brace",value:o,output:"(",outputIndex:n.output.length,tokensIndex:n.tokens.length};v.push(a),E(a);continue}if(o==="}"){const a=v[v.length-1];if(e.nobrace===!0||!a){E({type:"text",value:o,output:o});continue}let R=")";if(a.dots===!0){const d=p.slice(),I=[];for(let L=d.length-1;L>=0&&(p.pop(),d[L].type!=="brace");L--)d[L].type!=="dots"&&I.unshift(d[L].value);R=ae(I,e),n.backtrack=!0}if(a.comma!==!0&&a.dots!==!0){const d=n.output.slice(0,a.outputIndex),I=n.tokens.slice(a.tokensIndex);a.value=a.output="\\{",o=R="\\}",n.output=d;for(const L of I)n.output+=L.output||L.value}E({type:"brace",value:o,output:R}),Y("braces"),v.pop();continue}if(o==="|"){G.length>0&&G[G.length-1].conditions++,E({type:"text",value:o});continue}if(o===","){let a=o;const R=v[v.length-1];R&&x[x.length-1]==="braces"&&(R.comma=!0,a="|"),E({type:"comma",value:o,output:a});continue}if(o==="/"){if(u.type==="dot"&&n.index===n.start+1){n.start=n.index+1,n.consumed="",n.output="",p.pop(),u=r;continue}E({type:"slash",value:o,output:k});continue}if(o==="."){if(n.braces>0&&u.type==="dot"){u.value==="."&&(u.output=h);const a=v[v.length-1];u.type="dots",u.output+=o,u.value+=o,a.dots=!0;continue}if(n.braces+n.parens===0&&u.type!=="bos"&&u.type!=="slash"){E({type:"text",value:o,output:h});continue}E({type:"dot",value:o,output:h});continue}if(o==="?"){if(!(u&&u.value==="(")&&e.noextglob!==!0&&$()==="("&&$(2)!=="?"){ot("qmark",o);continue}if(u&&u.type==="paren"){const a=$();let R=o;(u.value==="("&&!/[!=<:]/.test(a)||a==="<"&&!/<([!=]|\w+>)/.test(Q()))&&(R=`\\${o}`),E({type:"text",value:o,output:R});continue}if(e.dot!==!0&&(u.type==="slash"||u.type==="bos")){E({type:"qmark",value:o,output:U});continue}E({type:"qmark",value:o,output:g});continue}if(o==="!"){if(e.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){ot("negate",o);continue}if(e.nonegate!==!0&&n.index===0){It();continue}}if(o==="+"){if(e.noextglob!==!0&&$()==="("&&$(2)!=="?"){ot("plus",o);continue}if(u&&u.value==="("||e.regex===!1){E({type:"plus",value:o,output:O});continue}if(u&&(u.type==="bracket"||u.type==="paren"||u.type==="brace")||n.parens>0){E({type:"plus",value:o});continue}E({type:"plus",value:O});continue}if(o==="@"){if(e.noextglob!==!0&&$()==="("&&$(2)!=="?"){E({type:"at",extglob:!0,value:o,output:""});continue}E({type:"text",value:o});continue}if(o!=="*"){(o==="$"||o==="^")&&(o=`\\${o}`);const a=oe.exec(Q());a&&(o+=a[0],n.index+=a[0].length),E({type:"text",value:o});continue}if(u&&(u.type==="globstar"||u.star===!0)){u.type="star",u.star=!0,u.value+=o,u.output=_,n.backtrack=!0,n.globstar=!0,P(o);continue}let s=Q();if(e.noextglob!==!0&&/^\([^?]/.test(s)){ot("star",o);continue}if(u.type==="star"){if(e.noglobstar===!0){P(o);continue}const a=u.prev,R=a.prev,d=a.type==="slash"||a.type==="bos",I=R&&(R.type==="star"||R.type==="globstar");if(e.bash===!0&&(!d||s[0]&&s[0]!=="/")){E({type:"star",value:o,output:""});continue}const L=n.braces>0&&(a.type==="comma"||a.type==="brace"),it=G.length&&(a.type==="pipe"||a.type==="paren");if(!d&&a.type!=="paren"&&!L&&!it){E({type:"star",value:o,output:""});continue}for(;s.slice(0,3)==="/**";){const nt=t[n.index+4];if(nt&&nt!=="/")break;s=s.slice(3),P("/**",3)}if(a.type==="bos"&&M()){u.type="globstar",u.value+=o,u.output=N(e),n.output=u.output,n.globstar=!0,P(o);continue}if(a.type==="slash"&&a.prev.type!=="bos"&&!I&&M()){n.output=n.output.slice(0,-(a.output+u.output).length),a.output=`(?:${a.output}`,u.type="globstar",u.output=N(e)+(e.strictSlashes?")":"|$)"),u.value+=o,n.globstar=!0,n.output+=a.output+u.output,P(o);continue}if(a.type==="slash"&&a.prev.type!=="bos"&&s[0]==="/"){const nt=s[1]!==void 0?"|$":"";n.output=n.output.slice(0,-(a.output+u.output).length),a.output=`(?:${a.output}`,u.type="globstar",u.output=`${N(e)}${k}|${k}${nt})`,u.value+=o,n.output+=a.output+u.output,n.globstar=!0,P(o+b()),E({type:"slash",value:"/",output:""});continue}if(a.type==="bos"&&s[0]==="/"){u.type="globstar",u.value+=o,u.output=`(?:^|${k}|${N(e)}${k})`,n.output=u.output,n.globstar=!0,P(o+b()),E({type:"slash",value:"/",output:""});continue}n.output=n.output.slice(0,-u.output.length),u.type="globstar",u.output=N(e),u.value+=o,n.output+=u.output,n.globstar=!0,P(o);continue}const y={type:"star",value:o,output:_};if(e.bash===!0){y.output=".*?",(u.type==="bos"||u.type==="slash")&&(y.output=D+y.output),E(y);continue}if(u&&(u.type==="bracket"||u.type==="paren")&&e.regex===!0){y.output=o,E(y);continue}(n.index===n.start||u.type==="slash"||u.type==="dot")&&(u.type==="dot"?(n.output+=j,u.output+=j):e.dot===!0?(n.output+=K,u.output+=K):(n.output+=D,u.output+=D),$()!=="*"&&(n.output+=B,u.output+=B)),E(y)}for(;n.brackets>0;){if(e.strictBrackets===!0)throw new SyntaxError(J("closing","]"));n.output=F.escapeLast(n.output,"["),Y("brackets")}for(;n.parens>0;){if(e.strictBrackets===!0)throw new SyntaxError(J("closing",")"));n.output=F.escapeLast(n.output,"("),Y("parens")}for(;n.braces>0;){if(e.strictBrackets===!0)throw new SyntaxError(J("closing","}"));n.output=F.escapeLast(n.output,"{"),Y("braces")}if(e.strictSlashes!==!0&&(u.type==="star"||u.type==="bracket")&&E({type:"maybe_slash",value:"",output:`${k}?`}),n.backtrack===!0){n.output="";for(const s of n.tokens)n.output+=s.output!=null?s.output:s.value,s.suffix&&(n.output+=s.suffix)}return n};Et.fastpaths=(t,i)=>{const e={...i},S=typeof e.maxLength=="number"?Math.min(rt,e.maxLength):rt,c=t.length;if(c>S)throw new SyntaxError(`Input length: ${c}, exceeds maximum allowed length: ${S}`);t=Lt[t]||t;const{DOT_LITERAL:r,SLASH_LITERAL:p,ONE_CHAR:l,DOTS_SLASH:A,NO_DOT:T,NO_DOTS:h,NO_DOTS_SLASH:O,STAR:k,START_ANCHOR:B}=st.globChars(e.windows),C=e.dot?h:T,m=e.dot?O:T,j=e.capture?"":"?:",K={negated:!1,prefix:""};let g=e.bash===!0?".*?":k;e.capture&&(g=`(${g})`);const U=D=>D.noglobstar===!0?g:`(${j}(?:(?!${B}${D.dot?A:r}).)*?)`,Z=D=>{switch(D){case"*":return`${C}${l}${g}`;case".*":return`${r}${l}${g}`;case"*.*":return`${C}${g}${r}${l}${g}`;case"*/*":return`${C}${g}${p}${l}${m}${g}`;case"**":return C+U(e);case"**/*":return`(?:${C}${U(e)}${p})?${m}${l}${g}`;case"**/*.*":return`(?:${C}${U(e)}${p})?${m}${g}${r}${l}${g}`;case"**/.*":return`(?:${C}${U(e)}${p})?${r}${l}${g}`;default:{const f=/^(.*?)\.(\w+)$/.exec(D);if(!f)return;const _=Z(f[1]);return _?_+r+f[2]:void 0}}},w=F.removePrefix(t,K);let N=Z(w);return N&&e.strictSlashes!==!0&&(N+=`${p}?`),N};var Ot=Et;z(Ot);const se=Tt,ht=Ot,kt=V,re=tt,ie=t=>t&&typeof t=="object"&&!Array.isArray(t),H=(t,i,e=!1)=>{if(Array.isArray(t)){const h=t.map(O=>H(O,i,e));return O=>{for(const k of h){const B=k(O);if(B)return B}return!1}}const S=ie(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!S)throw new TypeError("Expected pattern to be a non-empty string");const c=i||{},r=c.windows,p=S?H.compileRe(t,i):H.makeRe(t,i,!1,!0),l=p.state;delete p.state;let A=()=>!1;if(c.ignore){const h={...i,ignore:null,onMatch:null,onResult:null};A=H(c.ignore,h,e)}const T=(h,O=!1)=>{const{isMatch:k,match:B,output:C}=H.test(h,p,i,{glob:t,posix:r}),m={glob:t,state:l,regex:p,posix:r,input:h,output:C,match:B,isMatch:k};return typeof c.onResult=="function"&&c.onResult(m),k===!1?(m.isMatch=!1,O?m:!1):A(h)?(typeof c.onIgnore=="function"&&c.onIgnore(m),m.isMatch=!1,O?m:!1):(typeof c.onMatch=="function"&&c.onMatch(m),O?m:!0)};return e&&(T.state=l),T};H.test=(t,i,e,{glob:S,posix:c}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};const r=e||{},p=r.format||(c?kt.toPosixSlashes:null);let l=t===S,A=l&&p?p(t):t;return l===!1&&(A=p?p(t):t,l=A===S),(l===!1||r.capture===!0)&&(r.matchBase===!0||r.basename===!0?l=H.matchBase(t,i,e,c):l=i.exec(A)),{isMatch:!!l,match:l,output:A}},H.matchBase=(t,i,e)=>(i instanceof RegExp?i:H.makeRe(i,e)).test(kt.basename(t)),H.isMatch=(t,i,e)=>H(i,e)(t),H.parse=(t,i)=>Array.isArray(t)?t.map(e=>H.parse(e,i)):ht(t,{...i,fastpaths:!1}),H.scan=(t,i)=>se(t,i),H.compileRe=(t,i,e=!1,S=!1)=>{if(e===!0)return t.output;const c=i||{},r=c.contains?"":"^",p=c.contains?"":"$";let l=`${r}(?:${t.output})${p}`;t&&t.negated===!0&&(l=`^(?!${l}).*$`);const A=H.toRegex(l,i);return S===!0&&(A.state=t),A},H.makeRe=(t,i={},e=!1,S=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let c={negated:!1,fastpaths:!0};return i.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(c.output=ht.fastpaths(t,i)),c.output||(c=ht(t,i)),H.compileRe(c,i,e,S)},H.toRegex=(t,i)=>{try{const e=i||{};return new RegExp(t,e.flags||(e.nocase?"i":""))}catch(e){if(i&&i.debug===!0)throw e;return/$^/}},H.constants=re;var mt=H;z(mt);const Nt=mt,pe=V;function wt(t,i,e=!1){return i&&(i.windows===null||i.windows===void 0)&&(i={...i,windows:pe.isWindows()}),Nt(t,i,e)}Object.assign(wt,Nt);var le=wt,ce=z(le);export{ce as default};
