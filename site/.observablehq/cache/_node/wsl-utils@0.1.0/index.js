import r from"node:process";import i,{constants as w}from"node:fs/promises";import m from"../is-wsl@3.1.0/index.js";import{default as P}from"../is-wsl@3.1.0/index.js";const a=(()=>{const t="/mnt/";let e;return async function(){if(e)return e;const o="/etc/wsl.conf";let n=!1;try{await i.access(o,w.F_OK),n=!0}catch{}if(!n)return t;const c=await i.readFile(o,{encoding:"utf8"}),s=new RegExp("(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)","g").exec(c);return s?(e=s.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),l=async()=>`${await a()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,f=async()=>m?l():`${r.env.SYSTEMROOT||r.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`;export{P as isWsl,f as powerShellPath,l as powerShellPathFromWsl,a as wslDrivesMountPoint};
