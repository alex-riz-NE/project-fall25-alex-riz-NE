const{hasOwnProperty:K}=Object.prototype,j=function(){};function ht(t){return typeof t=="function"?t:j}function ut(t,e){return function(n,i,s){n.type===e&&t.call(this,n,i,s)}}function Nt(t,e){const n=e.structure,i=[];for(const s in n){if(K.call(n,s)===!1)continue;let r=n[s];const o={name:s,type:!1,nullable:!1};Array.isArray(r)||(r=[r]);for(const a of r)a===null?o.nullable=!0:typeof a=="string"?o.type="node":Array.isArray(a)&&(o.type="list");o.type&&i.push(o)}return i.length?{context:e.walkContext,fields:i}:null}function Mt(t){const e={};for(const n in t.node)if(K.call(t.node,n)){const i=t.node[n];if(!i.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=Nt(n,i)}return e}function ft(t,e){const n=t.fields.slice(),i=t.context,s=typeof i=="string";return e&&n.reverse(),function(r,o,a,u){let c;s&&(c=o[i],o[i]=r);for(const h of n){const f=r[h.name];if(!h.nullable||f){if(h.type==="list"){if(e?f.reduceRight(u,!1):f.reduce(u,!1))return!0}else if(a(f))return!0}}s&&(o[i]=c)}}function kt({StyleSheet:t,Atrule:e,Rule:n,Block:i,DeclarationList:s}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:i},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:i},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:i,DeclarationList:s}}}function Ut(t){const e=Mt(t),n={},i={},s=Symbol("break-walk"),r=Symbol("skip-node");for(const c in e)K.call(e,c)&&e[c]!==null&&(n[c]=ft(e[c],!1),i[c]=ft(e[c],!0));const o=kt(n),a=kt(i),u=function(c,h){function f(A,N,M){const U=p.call(J,A,N,M);return U===s?!0:U===r?!1:!!(y.hasOwnProperty(A.type)&&y[A.type](A,J,f,Et)||m.call(J,A,N,M)===s)}let p=j,m=j,y=n,Et=(A,N,M,U)=>A||f(N,M,U);const J={break:s,skip:r,root:c,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof h=="function")p=h;else if(h&&(p=ht(h.enter),m=ht(h.leave),h.reverse&&(y=i),h.visit)){if(o.hasOwnProperty(h.visit))y=h.reverse?a[h.visit]:o[h.visit];else if(!e.hasOwnProperty(h.visit))throw new Error("Bad value `"+h.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");p=ut(p,h.visit),m=ut(m,h.visit)}if(p===j&&m===j)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");f(c)};return u.break=s,u.skip=r,u.find=function(c,h){let f=null;return u(c,function(p,m,y){if(h.call(this,p,m,y))return f=p,s}),f},u.findLast=function(c,h){let f=null;return u(c,{reverse:!0,enter(p,m,y){if(h.call(this,p,m,y))return f=p,s}}),f},u.findAll=function(c,h){const f=[];return u(c,function(p,m,y){h.call(this,p,m,y)&&f.push(p)}),f},u}const l=1,L=2,O=3,P=4,W=5,Y=7,d=9,k=10,pt=11,D=12,b=13,tt=14,et=15,_=16,g=17,V=18,dt=19,nt=20,I=21,S=22,w=23,H=24,v=25;function F(t){return t>=48&&t<=57}function z(t){return F(t)||t>=65&&t<=70||t>=97&&t<=102}function Wt(t){return t>=65&&t<=90}function Vt(t){return t>=97&&t<=122}function Ht(t){return Wt(t)||Vt(t)}function Qt(t){return t>=128}function qt(t){return Ht(t)||Qt(t)||t===95}function Xt(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function $t(t){return t===10||t===13||t===12}function B(t){return $t(t)||t===32||t===9}function St(t,e){return!(t!==92||$t(e)||e===0)}const mt=new Array(128),Zt=128,Gt=130,Jt=131,Kt=132,Yt=133;for(let t=0;t<mt.length;t++)mt[t]=B(t)&&Gt||F(t)&&Jt||qt(t)&&Kt||Xt(t)&&Yt||t||Zt;function Q(t,e){return e<t.length?t.charCodeAt(e):0}function te(t,e,n){return n===13&&Q(t,e+1)===10?2:1}function bt(t,e){if(e+=2,z(Q(t,e-1))){for(const i=Math.min(t.length,e+5);e<i&&z(Q(t,e));e++);const n=Q(t,e);B(n)&&(e+=te(t,e,n))}return e}function gt(t){if(t.length===1&&!z(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}const C=43,$=45,q=110,T=!0,ee=!1;function X(t,e){let n=this.tokenStart+t;const i=this.charCodeAt(n);for((i===C||i===$)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)F(this.charCodeAt(n))||this.error("Integer is expected",n)}function R(t){return X.call(this,0,t)}function x(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case q:n="N is expected";break;case $:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function it(){let t=0,e=0,n=this.tokenType;for(;n===b||n===v;)n=this.lookupType(++t);if(n!==k)if(this.isDelim(C,t)||this.isDelim($,t)){e=this.isDelim(C,t)?C:$;do n=this.lookupType(++t);while(n===b||n===v);n!==k&&(this.skip(t),R.call(this,T))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==C&&n!==$&&this.error("Number sign is expected")),R.call(this,e!==0),e===$?"-"+this.consume(k):this.consume(k)}const ne="AnPlusB",ie={a:[String,null],b:[String,null]};function se(){const t=this.tokenStart;let e=null,n=null;if(this.tokenType===k)R.call(this,ee),n=this.consume(k);else if(this.tokenType===l&&this.cmpChar(this.tokenStart,$))switch(e="-1",x.call(this,1,q),this.tokenEnd-this.tokenStart){case 2:this.next(),n=it.call(this);break;case 3:x.call(this,2,$),this.next(),this.skipSC(),R.call(this,T),n="-"+this.consume(k);break;default:x.call(this,2,$),X.call(this,3,T),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===l||this.isDelim(C)&&this.lookupType(1)===l){let i=0;switch(e="1",this.isDelim(C)&&(i=1,this.next()),x.call(this,0,q),this.tokenEnd-this.tokenStart){case 1:this.next(),n=it.call(this);break;case 2:x.call(this,1,$),this.next(),this.skipSC(),R.call(this,T),n="-"+this.consume(k);break;default:x.call(this,1,$),X.call(this,2,T),this.next(),n=this.substrToCursor(t+i+1)}}else if(this.tokenType===D){const i=this.charCodeAt(this.tokenStart),s=i===C||i===$;let r=this.tokenStart+s;for(;r<this.tokenEnd&&F(this.charCodeAt(r));r++);r===this.tokenStart+s&&this.error("Integer is expected",this.tokenStart+s),x.call(this,r-this.tokenStart,q),e=this.substring(t,r),r+1===this.tokenEnd?(this.next(),n=it.call(this)):(x.call(this,r-this.tokenStart+1,$),r+2===this.tokenEnd?(this.next(),this.skipSC(),R.call(this,T),n="-"+this.consume(k)):(X.call(this,r-this.tokenStart+2,T),this.next(),n=this.substrToCursor(r+1)))}else this.error();return e!==null&&e.charCodeAt(0)===C&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===C&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function re(t){if(t.a){const e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){const n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}var oe=Object.freeze({__proto__:null,generate:re,name:ne,parse:se,structure:ie});function yt(t){return this.Raw(t,this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function ae(){for(let t=1,e;e=this.lookupType(t);t++){if(e===H)return!0;if(e===w||e===O)return!1}return!1}const le="Atrule",ce="atrule",he={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function ue(t=!1){const e=this.tokenStart;let n,i,s=null,r=null;switch(this.eat(O),n=this.substrToCursor(e+1),i=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==w&&this.tokenType!==g&&(this.parseAtrulePrelude?s=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),yt):s=yt.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case g:this.next();break;case w:hasOwnProperty.call(this.atrule,i)&&typeof this.atrule[i].block=="function"?r=this.atrule[i].block.call(this,t):r=this.Block(ae.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:s,block:r}}function fe(t){this.token(O,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(g,";")}var ke=Object.freeze({__proto__:null,generate:fe,name:le,parse:ue,structure:he,walkContext:ce});const pe="AtrulePrelude",de="atrulePrelude",$e={children:[[]]};function Se(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==w&&this.tokenType!==g&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function me(t){this.children(t)}var be=Object.freeze({__proto__:null,generate:me,name:pe,parse:Se,structure:$e,walkContext:de});const ge=36,_t=42,Z=61,ye=94,st=124,_e=126;function Ce(){this.eof&&this.error("Unexpected end of input");const t=this.tokenStart;let e=!1;return this.isDelim(_t)?(e=!0,this.next()):this.isDelim(st)||this.eat(l),this.isDelim(st)?this.charCodeAt(this.tokenStart+1)!==Z?(this.next(),this.eat(l)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ve(){const t=this.tokenStart,e=this.charCodeAt(t);return e!==Z&&e!==_e&&e!==ye&&e!==ge&&e!==_t&&e!==st&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==Z&&(this.isDelim(Z)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}const xe="AttributeSelector",Ae={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function Le(){const t=this.tokenStart;let e,n=null,i=null,s=null;return this.eat(dt),this.skipSC(),e=Ce.call(this),this.skipSC(),this.tokenType!==nt&&(this.tokenType!==l&&(n=ve.call(this),this.skipSC(),i=this.tokenType===W?this.String():this.Identifier(),this.skipSC()),this.tokenType===l&&(s=this.consume(l),this.skipSC())),this.eat(nt),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:i,flags:s}}function we(t){this.token(d,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(l,t.flags),this.token(d,"]")}var Te=Object.freeze({__proto__:null,generate:we,name:xe,parse:Le,structure:Ae});const Oe=38;function Ct(t){return this.Raw(t,null,!0)}function vt(){return this.parseWithFallback(this.Rule,Ct)}function xt(t){return this.Raw(t,this.consumeUntilSemicolonIncluded,!0)}function De(){if(this.tokenType===g)return xt.call(this,this.tokenIndex);const t=this.parseWithFallback(this.Declaration,xt);return this.tokenType===g&&this.next(),t}const ze="Block",Re="block",je={children:[["Atrule","Rule","Declaration"]]};function Pe(t){const e=t?De:vt,n=this.tokenStart;let i=this.createList();this.eat(w);t:for(;!this.eof;)switch(this.tokenType){case H:break t;case b:case v:this.next();break;case O:i.push(this.parseWithFallback(this.Atrule.bind(this,t),Ct));break;default:t&&this.isDelim(Oe)?i.push(vt.call(this)):i.push(e.call(this))}return this.eof||this.eat(H),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:i}}function Ie(t){this.token(w,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(g,";")}),this.token(H,"}")}var Fe=Object.freeze({__proto__:null,generate:Ie,name:ze,parse:Pe,structure:je,walkContext:Re});const Be="Brackets",Ee={children:[[]]};function Ne(t,e){const n=this.tokenStart;let i=null;return this.eat(dt),i=t.call(this,e),this.eof||this.eat(nt),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:i}}function Me(t){this.token(d,"["),this.children(t),this.token(d,"]")}var Ue=Object.freeze({__proto__:null,generate:Me,name:Be,parse:Ne,structure:Ee});const We="CDC",Ve=[];function He(){const t=this.tokenStart;return this.eat(et),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function Qe(){this.token(et,"-->")}var qe=Object.freeze({__proto__:null,generate:Qe,name:We,parse:He,structure:Ve});const Xe="CDO",Ze=[];function Ge(){const t=this.tokenStart;return this.eat(tt),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function Je(){this.token(tt,"<!--")}var Ke=Object.freeze({__proto__:null,generate:Je,name:Xe,parse:Ge,structure:Ze});const Ye=46,tn="ClassSelector",en={name:String};function nn(){return this.eatDelim(Ye),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(l)}}function sn(t){this.token(d,"."),this.token(l,t.name)}var rn=Object.freeze({__proto__:null,generate:sn,name:tn,parse:nn,structure:en});const on=43,At=47,an=62,ln=126,cn="Combinator",hn={name:String};function un(){const t=this.tokenStart;let e;switch(this.tokenType){case b:e=" ";break;case d:switch(this.charCodeAt(this.tokenStart)){case an:case on:case ln:this.next();break;case At:this.next(),this.eatIdent("deep"),this.eatDelim(At);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function fn(t){this.tokenize(t.name)}var kn=Object.freeze({__proto__:null,generate:fn,name:cn,parse:un,structure:hn});const pn=42,dn=47,$n="Comment",Sn={value:String};function mn(){const t=this.tokenStart;let e=this.tokenEnd;return this.eat(v),e-t+2>=2&&this.charCodeAt(e-2)===pn&&this.charCodeAt(e-1)===dn&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function bn(t){this.token(v,"/*"+t.value+"*/")}var gn=Object.freeze({__proto__:null,generate:bn,name:$n,parse:mn,structure:Sn});const Lt=45;function yn(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===Lt&&t.charCodeAt(e+1)===Lt}const wt=33,_n=35,Cn=36,vn=38,xn=42,An=43,Tt=47;function Ln(t){return this.Raw(t,this.consumeUntilExclamationMarkOrSemicolon,!0)}function wn(t){return this.Raw(t,this.consumeUntilExclamationMarkOrSemicolon,!1)}function Tn(){const t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==g&&this.isDelim(wt)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}const On="Declaration",Dn="declaration",zn={important:[Boolean,String],property:String,value:["Value","Raw"]};function Rn(){const t=this.tokenStart,e=this.tokenIndex,n=Pn.call(this),i=yn(n),s=i?this.parseCustomProperty:this.parseValue,r=i?wn:Ln;let o=!1,a;this.skipSC(),this.eat(_);const u=this.tokenIndex;if(i||this.skipSC(),s?a=this.parseWithFallback(Tn,r):a=r.call(this,this.tokenIndex),i&&a.type==="Value"&&a.children.isEmpty){for(let c=u-this.tokenIndex;c<=0;c++)if(this.lookupType(c)===b){a.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(wt)&&(o=In.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==g&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:o,property:n,value:a}}function jn(t){this.token(l,t.property),this.token(_,":"),this.node(t.value),t.important&&(this.token(d,"!"),this.token(l,t.important===!0?"important":t.important))}function Pn(){const t=this.tokenStart;if(this.tokenType===d)switch(this.charCodeAt(this.tokenStart)){case xn:case Cn:case An:case _n:case vn:this.next();break;case Tt:this.next(),this.isDelim(Tt)&&this.next();break}return this.tokenType===P?this.eat(P):this.eat(l),this.substrToCursor(t)}function In(){this.eat(d),this.skipSC();const t=this.consume(l);return t==="important"?!0:t}var Fn=Object.freeze({__proto__:null,generate:jn,name:On,parse:Rn,structure:zn,walkContext:Dn});const Bn=38;function rt(t){return this.Raw(t,this.consumeUntilSemicolonIncluded,!0)}const En="DeclarationList",Nn={children:[["Declaration","Atrule","Rule"]]};function Mn(){const t=this.createList();for(;!this.eof;)switch(this.tokenType){case b:case v:case g:this.next();break;case O:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),rt));break;default:this.isDelim(Bn)?t.push(this.parseWithFallback(this.Rule,rt)):t.push(this.parseWithFallback(this.Declaration,rt))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function Un(t){this.children(t,e=>{e.type==="Declaration"&&this.token(g,";")})}var Wn=Object.freeze({__proto__:null,generate:Un,name:En,parse:Mn,structure:Nn});const Vn="Dimension",Hn={value:String,unit:String};function Qn(){const t=this.tokenStart,e=this.consumeNumber(D);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function qn(t){this.token(D,t.value+t.unit)}var Xn=Object.freeze({__proto__:null,generate:qn,name:Vn,parse:Qn,structure:Hn});const Zn="Function",Gn="function",Jn={name:String,children:[[]]};function Kn(t,e){const n=this.tokenStart,i=this.consumeFunctionName(),s=i.toLowerCase();let r;return r=e.hasOwnProperty(s)?e[s].call(this,e):t.call(this,e),this.eof||this.eat(S),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:i,children:r}}function Yn(t){this.token(L,t.name+"("),this.children(t),this.token(S,")")}var ti=Object.freeze({__proto__:null,generate:Yn,name:Zn,parse:Kn,structure:Jn,walkContext:Gn});const ei="XXX",ni="Hash",ii={value:String};function si(){const t=this.tokenStart;return this.eat(P),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function ri(t){this.token(P,"#"+t.value)}var oi=Object.freeze({__proto__:null,generate:ri,name:ni,parse:si,structure:ii,xxx:ei});const ai="Identifier",li={name:String};function ci(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(l)}}function hi(t){this.token(l,t.name)}var ui=Object.freeze({__proto__:null,generate:hi,name:ai,parse:ci,structure:li});const fi="IdSelector",ki={name:String};function pi(){const t=this.tokenStart;return this.eat(P),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function di(t){this.token(d,"#"+t.name)}var $i=Object.freeze({__proto__:null,generate:di,name:fi,parse:pi,structure:ki});const Si="MediaFeature",mi={name:String,value:["Identifier","Number","Dimension","Ratio",null]};function bi(){const t=this.tokenStart;let e,n=null;if(this.eat(I),this.skipSC(),e=this.consume(l),this.skipSC(),this.tokenType!==S){switch(this.eat(_),this.skipSC(),this.tokenType){case k:this.lookupNonWSType(1)===d?n=this.Ratio():n=this.Number();break;case D:n=this.Dimension();break;case l:n=this.Identifier();break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eat(S),{type:"MediaFeature",loc:this.getLocation(t,this.tokenStart),name:e,value:n}}function gi(t){this.token(I,"("),this.token(l,t.name),t.value!==null&&(this.token(_,":"),this.node(t.value)),this.token(S,")")}var yi=Object.freeze({__proto__:null,generate:gi,name:Si,parse:bi,structure:mi});const _i="MediaQuery",Ci={children:[["Identifier","MediaFeature","WhiteSpace"]]};function vi(){const t=this.createList();let e=null;this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case v:case b:this.next();continue;case l:e=this.Identifier();break;case I:e=this.MediaFeature();break;default:break t}t.push(e)}return e===null&&this.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(t),children:t}}function xi(t){this.children(t)}var Ai=Object.freeze({__proto__:null,generate:xi,name:_i,parse:vi,structure:Ci});const Li="MediaQueryList",wi={children:[["MediaQuery"]]};function Ti(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===V);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function Oi(t){this.children(t,()=>this.token(V,","))}var Di=Object.freeze({__proto__:null,generate:Oi,name:Li,parse:Ti,structure:wi});const zi=38,Ri="NestingSelector",ji={};function Pi(){const t=this.tokenStart;return this.eatDelim(zi),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function Ii(){this.token(d,"&")}var Fi=Object.freeze({__proto__:null,generate:Ii,name:Ri,parse:Pi,structure:ji});const Bi="Nth",Ei={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function Ni(){this.skipSC();const t=this.tokenStart;let e=t,n=null,i;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?i=this.Identifier():i=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:i,selector:n}}function Mi(t){this.node(t.nth),t.selector!==null&&(this.token(l,"of"),this.node(t.selector))}var Ui=Object.freeze({__proto__:null,generate:Mi,name:Bi,parse:Ni,structure:Ei});const Wi="Number",Vi={value:String};function Hi(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(k)}}function Qi(t){this.token(k,t.value)}var qi=Object.freeze({__proto__:null,generate:Qi,name:Wi,parse:Hi,structure:Vi});const Xi="Operator",Zi={value:String};function Gi(){const t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function Ji(t){this.tokenize(t.value)}var Ki=Object.freeze({__proto__:null,generate:Ji,name:Xi,parse:Gi,structure:Zi});const Yi="Parentheses",ts={children:[[]]};function es(t,e){const n=this.tokenStart;let i=null;return this.eat(I),i=t.call(this,e),this.eof||this.eat(S),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:i}}function ns(t){this.token(I,"("),this.children(t),this.token(S,")")}var is=Object.freeze({__proto__:null,generate:ns,name:Yi,parse:es,structure:ts});const ss="Percentage",rs={value:String};function os(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(pt)}}function as(t){this.token(pt,t.value+"%")}var ls=Object.freeze({__proto__:null,generate:as,name:ss,parse:os,structure:rs});const cs="PseudoClassSelector",hs="function",us={name:String,children:[["Raw"],null]};function fs(){const t=this.tokenStart;let e=null,n,i;return this.eat(_),this.tokenType===L?(n=this.consumeFunctionName(),i=n.toLowerCase(),hasOwnProperty.call(this.pseudo,i)?(this.skipSC(),e=this.pseudo[i].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(this.tokenIndex,null,!1))),this.eat(S)):n=this.consume(l),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function ks(t){this.token(_,":"),t.children===null?this.token(l,t.name):(this.token(L,t.name+"("),this.children(t),this.token(S,")"))}var ps=Object.freeze({__proto__:null,generate:ks,name:cs,parse:fs,structure:us,walkContext:hs});const ds="PseudoElementSelector",$s="function",Ss={name:String,children:[["Raw"],null]};function ms(){const t=this.tokenStart;let e=null,n,i;return this.eat(_),this.eat(_),this.tokenType===L?(n=this.consumeFunctionName(),i=n.toLowerCase(),hasOwnProperty.call(this.pseudo,i)?(this.skipSC(),e=this.pseudo[i].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(this.tokenIndex,null,!1))),this.eat(S)):n=this.consume(l),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function bs(t){this.token(_,":"),this.token(_,":"),t.children===null?this.token(l,t.name):(this.token(L,t.name+"("),this.children(t),this.token(S,")"))}var gs=Object.freeze({__proto__:null,generate:bs,name:ds,parse:ms,structure:Ss,walkContext:$s});const ys=47,_s=46;function Ot(){this.skipSC();const t=this.consume(k);for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);!F(n)&&n!==_s&&this.error("Unsigned number is expected",this.tokenStart-t.length+e)}return Number(t)===0&&this.error("Zero number is not allowed",this.tokenStart-t.length),t}const Cs="Ratio",vs={left:String,right:String};function xs(){const t=this.tokenStart,e=Ot.call(this);let n;return this.skipSC(),this.eatDelim(ys),n=Ot.call(this),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function As(t){this.token(k,t.left),this.token(d,"/"),this.token(k,t.right)}var Ls=Object.freeze({__proto__:null,generate:As,name:Cs,parse:xs,structure:vs});function ws(){return this.tokenIndex>0&&this.lookupType(-1)===b?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const Ts="Raw",Os={value:String};function Ds(t,e,n){const i=this.getTokenStart(t);let s;return this.skipUntilBalanced(t,e||this.consumeUntilBalanceEnd),n&&this.tokenStart>i?s=ws.call(this):s=this.tokenStart,{type:"Raw",loc:this.getLocation(i,s),value:this.substring(i,s)}}function zs(t){this.tokenize(t.value)}var Rs=Object.freeze({__proto__:null,generate:zs,name:Ts,parse:Ds,structure:Os});function Dt(t){return this.Raw(t,this.consumeUntilLeftCurlyBracket,!0)}function js(){const t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==w&&this.error(),t}const Ps="Rule",Is="rule",Fs={prelude:["SelectorList","Raw"],block:["Block"]};function Bs(){const t=this.tokenIndex,e=this.tokenStart;let n,i;return this.parseRulePrelude?n=this.parseWithFallback(js,Dt):n=Dt.call(this,t),i=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:i}}function Es(t){this.node(t.prelude),this.node(t.block)}var Ns=Object.freeze({__proto__:null,generate:Es,name:Ps,parse:Bs,structure:Fs,walkContext:Is});const Ms="Selector",Us={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]};function Ws(){const t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function Vs(t){this.children(t)}var Hs=Object.freeze({__proto__:null,generate:Vs,name:Ms,parse:Ws,structure:Us});const Qs="SelectorList",qs="selector",Xs={children:[["Selector","Raw"]]};function Zs(){const t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===V){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function Gs(t){this.children(t,()=>this.token(V,","))}var Js=Object.freeze({__proto__:null,generate:Gs,name:Qs,parse:Zs,structure:Xs,walkContext:qs});const ot=92,zt=34,Ks=39;function Rt(t){const e=t.length,n=t.charCodeAt(0),i=n===zt||n===Ks?1:0,s=i===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1;let r="";for(let o=i;o<=s;o++){let a=t.charCodeAt(o);if(a===ot){if(o===s){o!==e-1&&(r=t.substr(o+1));break}if(a=t.charCodeAt(++o),St(ot,a)){const u=o-1,c=bt(t,u);o=c-1,r+=gt(t.substring(u+1,c))}else a===13&&t.charCodeAt(o+1)===10&&o++}else r+=t[o]}return r}function Ys(t,e){const n='"',i=zt;let s="",r=!1;for(let o=0;o<t.length;o++){const a=t.charCodeAt(o);if(a===0){s+="\uFFFD";continue}if(a<=31||a===127){s+="\\"+a.toString(16),r=!0;continue}a===i||a===ot?(s+="\\"+t.charAt(o),r=!1):(r&&(z(a)||B(a))&&(s+=" "),s+=t.charAt(o),r=!1)}return n+s+n}const tr="String",er={value:String};function nr(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:Rt(this.consume(W))}}function ir(t){this.token(W,Ys(t.value))}var sr=Object.freeze({__proto__:null,generate:ir,name:tr,parse:nr,structure:er});const rr=33;function jt(t){return this.Raw(t,null,!1)}const or="StyleSheet",ar="stylesheet",lr={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function cr(){const t=this.tokenStart,e=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case b:this.next();continue;case v:if(this.charCodeAt(this.tokenStart+2)!==rr){this.next();continue}n=this.Comment();break;case tt:n=this.CDO();break;case et:n=this.CDC();break;case O:n=this.parseWithFallback(this.Atrule,jt);break;default:n=this.parseWithFallback(this.Rule,jt)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function hr(t){this.children(t)}var ur=Object.freeze({__proto__:null,generate:hr,name:or,parse:cr,structure:lr,walkContext:ar});const fr=42,Pt=124;function at(){this.tokenType!==l&&this.isDelim(fr)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const kr="TypeSelector",pr={name:String};function dr(){const t=this.tokenStart;return this.isDelim(Pt)?(this.next(),at.call(this)):(at.call(this),this.isDelim(Pt)&&(this.next(),at.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function $r(t){this.tokenize(t.name)}var Sr=Object.freeze({__proto__:null,generate:$r,name:kr,parse:dr,structure:pr});const It=43,Ft=45,lt=63;function E(t,e){let n=0;for(let i=this.tokenStart+t;i<this.tokenEnd;i++){const s=this.charCodeAt(i);if(s===Ft&&e&&n!==0)return E.call(this,t+n+1,!1),-1;z(s)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",i),++n>6&&this.error("Too many hex digits",i)}return this.next(),n}function G(t){let e=0;for(;this.isDelim(lt);)++e>t&&this.error("Too many question marks"),this.next()}function mr(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===It?"Plus sign":"Hyphen minus")+" is expected")}function br(){let t=0;switch(this.tokenType){case k:if(t=E.call(this,1,!0),this.isDelim(lt)){G.call(this,6-t);break}if(this.tokenType===D||this.tokenType===k){mr.call(this,Ft),E.call(this,1,!1);break}break;case D:t=E.call(this,1,!0),t>0&&G.call(this,6-t);break;default:if(this.eatDelim(It),this.tokenType===l){t=E.call(this,0,!0),t>0&&G.call(this,6-t);break}if(this.isDelim(lt)){this.next(),G.call(this,5);break}this.error("Hex digit or question mark is expected")}}const gr="UnicodeRange",yr={value:String};function _r(){const t=this.tokenStart;return this.eatIdent("u"),br.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function Cr(t){this.tokenize(t.value)}var vr=Object.freeze({__proto__:null,generate:Cr,name:gr,parse:_r,structure:yr});const xr=32,ct=92,Ar=34,Lr=39,wr=40,Bt=41;function Tr(t){const e=t.length;let n=4,i=t.charCodeAt(e-1)===Bt?e-2:e-1,s="";for(;n<i&&B(t.charCodeAt(n));)n++;for(;n<i&&B(t.charCodeAt(i));)i--;for(let r=n;r<=i;r++){let o=t.charCodeAt(r);if(o===ct){if(r===i){r!==e-1&&(s=t.substr(r+1));break}if(o=t.charCodeAt(++r),St(ct,o)){const a=r-1,u=bt(t,a);r=u-1,s+=gt(t.substring(a+1,u))}else o===13&&t.charCodeAt(r+1)===10&&r++}else s+=t[r]}return s}function Or(t){let e="",n=!1;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);if(s===0){e+="\uFFFD";continue}if(s<=31||s===127){e+="\\"+s.toString(16),n=!0;continue}s===xr||s===ct||s===Ar||s===Lr||s===wr||s===Bt?(e+="\\"+t.charAt(i),n=!1):(n&&z(s)&&(e+=" "),e+=t.charAt(i),n=!1)}return"url("+e+")"}const Dr="Url",zr={value:String};function Rr(){const t=this.tokenStart;let e;switch(this.tokenType){case Y:e=Tr(this.consume(Y));break;case L:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(L),this.skipSC(),e=Rt(this.consume(W)),this.skipSC(),this.eof||this.eat(S);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function jr(t){this.token(Y,Or(t.value))}var Pr=Object.freeze({__proto__:null,generate:jr,name:Dr,parse:Rr,structure:zr});const Ir="Value",Fr={children:[[]]};function Br(){const t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function Er(t){this.children(t)}var Nr=Object.freeze({__proto__:null,generate:Er,name:Ir,parse:Br,structure:Fr});const Mr=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),Ur="WhiteSpace",Wr={value:String};function Vr(){return this.eat(b),Mr}function Hr(t){this.token(b,t.value)}var Qr=Object.freeze({__proto__:null,generate:Hr,name:Ur,parse:Vr,structure:Wr}),qr=Object.freeze({__proto__:null,AnPlusB:oe,Atrule:ke,AtrulePrelude:be,AttributeSelector:Te,Block:Fe,Brackets:Ue,CDC:qe,CDO:Ke,ClassSelector:rn,Combinator:kn,Comment:gn,Declaration:Fn,DeclarationList:Wn,Dimension:Xn,Function:ti,Hash:oi,IdSelector:$i,Identifier:ui,MediaFeature:yi,MediaQuery:Ai,MediaQueryList:Di,NestingSelector:Fi,Nth:Ui,Number:qi,Operator:Ki,Parentheses:is,Percentage:ls,PseudoClassSelector:ps,PseudoElementSelector:gs,Ratio:Ls,Raw:Rs,Rule:Ns,Selector:Hs,SelectorList:Js,String:sr,StyleSheet:ur,TypeSelector:Sr,UnicodeRange:vr,Url:Pr,Value:Nr,WhiteSpace:Qr}),Xr={node:qr},Zr=Ut(Xr);export{Zr as default};
