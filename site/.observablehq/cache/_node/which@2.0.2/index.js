import*as j from"path";import*as T from"../isexe@2.0.0/index.js";function _(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function v(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C=v(j),N=v(T);const u=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",g=C,b=u?";":":",w=N,y=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),O=(t,e)=>{const s=e.colon||b,l=t.match(/\//)||u&&t.match(/\\/)?[""]:[...u?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(s)],p=u?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",n=u?p.split(s):[""];return u&&t.indexOf(".")!==-1&&n[0]!==""&&n.unshift(""),{pathEnv:l,pathExt:n,pathExtExe:p}},d=(t,e,s)=>{typeof e=="function"&&(s=e,e={}),e||(e={});const{pathEnv:l,pathExt:p,pathExtExe:n}=O(t,e),c=[],h=r=>new Promise((i,a)=>{if(r===l.length)return e.all&&c.length?i(c):a(y(t));const o=l[r],x=/^".*"$/.test(o)?o.slice(1,-1):o,f=g.join(x,t),m=!x&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;i(E(m,r,0))}),E=(r,i,a)=>new Promise((o,x)=>{if(a===p.length)return o(h(i+1));const f=p[a];w(r+f,{pathExt:n},(m,P)=>{if(!m&&P)if(e.all)c.push(r+f);else return o(r+f);return o(E(r,i,a+1))})});return s?h(0).then(r=>s(null,r),s):h(0)},A=(t,e)=>{e=e||{};const{pathEnv:s,pathExt:l,pathExtExe:p}=O(t,e),n=[];for(let c=0;c<s.length;c++){const h=s[c],E=/^".*"$/.test(h)?h.slice(1,-1):h,r=g.join(E,t),i=!E&&/^\.[\\\/]/.test(t)?t.slice(0,2)+r:r;for(let a=0;a<l.length;a++){const o=i+l[a];try{if(w.sync(o,{pathExt:p}))if(e.all)n.push(o);else return o}catch{}}}if(e.all&&n.length)return n;if(e.nothrow)return null;throw y(t)};var D=d;d.sync=A;var M=_(D);export{M as default};
