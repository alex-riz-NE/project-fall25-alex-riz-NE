import s from"../strip-ansi@7.1.2/index.js";import e from"../eastasianwidth@0.2.0/index.js";import c from"../emoji-regex@9.2.2/index.js";function f(t,a={}){if(typeof t!="string"||t.length===0||(a={ambiguousIsNarrow:!0,...a},t=s(t),t.length===0))return 0;t=t.replace(c(),"  ");const n=a.ambiguousIsNarrow?1:2;let r=0;for(const i of t){const o=i.codePointAt(0);if(!(o<=31||o>=127&&o<=159||o>=768&&o<=879))switch(e.eastAsianWidth(i)){case"F":case"W":r+=2;break;case"A":r+=n;break;default:r+=1}}return r}export{f as default};
