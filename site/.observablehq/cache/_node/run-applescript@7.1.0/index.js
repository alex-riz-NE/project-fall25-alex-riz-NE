import o from"node:process";import{promisify as s}from"node:util";import{execFile as p,execFileSync as c}from"node:child_process";const m=s(p);async function u(r,{humanReadableOutput:t=!0,signal:i}={}){if(o.platform!=="darwin")throw new Error("macOS only");const e=t?[]:["-ss"],n={};i&&(n.signal=i);const{stdout:a}=await m("osascript",["-e",r,e],n);return a.trim()}function l(r,{humanReadableOutput:t=!0}={}){if(o.platform!=="darwin")throw new Error("macOS only");return c("osascript",["-e",r,...t?[]:["-ss"]],{encoding:"utf8",stdio:["ignore","pipe","ignore"],timeout:500}).trim()}export{u as runAppleScript,l as runAppleScriptSync};
