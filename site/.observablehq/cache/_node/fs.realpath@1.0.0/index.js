import*as G from"fs";import*as _ from"path";function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L=I(G),b={},F=I(_),d=F,v=process.platform==="win32",y=L,U=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function C(){var e;if(U){var t=new Error;e=a}else e=i;return e;function a(o){o&&(t.message=o.message,o=t,i(o))}function i(o){if(o){if(process.throwDeprecation)throw o;if(!process.noDeprecation){var l="fs: missing callback "+(o.stack||o.message);process.traceDeprecation?console.trace(l):console.error(l)}}}}function Z(e){return typeof e=="function"?e:C()}if(d.normalize,v)var S=/(.*?)(?:[\/\\]+|$)/g;else var S=/(.*?)(?:[\/]+|$)/g;if(v)var N=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else var N=/^[\/]*/;b.realpathSync=function(e,t){if(e=d.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var a=e,i={},o={},l,s,n,r;O();function O(){var c=N.exec(e);l=c[0].length,s=c[0],n=c[0],r="",v&&!o[n]&&(y.lstatSync(n),o[n]=!0)}for(;l<e.length;){S.lastIndex=l;var E=S.exec(e);if(r=s,s+=E[0],n=r+E[1],l=S.lastIndex,!(o[n]||t&&t[n]===n)){var f;if(t&&Object.prototype.hasOwnProperty.call(t,n))f=t[n];else{var m=y.lstatSync(n);if(!m.isSymbolicLink()){o[n]=!0,t&&(t[n]=n);continue}var u=null;if(!v){var g=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(g)&&(u=i[g])}u===null&&(y.statSync(n),u=y.readlinkSync(n)),f=d.resolve(r,u),t&&(t[n]=f),v||(i[g]=u)}e=d.resolve(f,e.slice(l)),O()}}return t&&(t[a]=e),e},b.realpath=function(e,t,a){if(typeof a!="function"&&(a=Z(t),t=null),e=d.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(a.bind(null,null,t[e]));var i=e,o={},l={},s,n,r,O;E();function E(){var c=N.exec(e);s=c[0].length,n=c[0],r=c[0],O="",v&&!l[r]?y.lstat(r,function(p){if(p)return a(p);l[r]=!0,f()}):process.nextTick(f)}function f(){if(s>=e.length)return t&&(t[i]=e),a(null,e);S.lastIndex=s;var c=S.exec(e);return O=n,n+=c[0],r=O+c[1],s=S.lastIndex,l[r]||t&&t[r]===r?process.nextTick(f):t&&Object.prototype.hasOwnProperty.call(t,r)?g(t[r]):y.lstat(r,m)}function m(c,p){if(c)return a(c);if(!p.isSymbolicLink())return l[r]=!0,t&&(t[r]=r),process.nextTick(f);if(!v){var k=p.dev.toString(32)+":"+p.ino.toString(32);if(o.hasOwnProperty(k))return u(null,o[k],r)}y.stat(r,function(x){if(x)return a(x);y.readlink(r,function(B,$){v||(o[k]=$),u(B,$)})})}function u(c,p,k){if(c)return a(c);var x=d.resolve(O,p);t&&(t[k]=x),g(x)}function g(c){e=d.resolve(c,e.slice(s)),E()}};var q=h;h.realpath=h,h.sync=j,h.realpathSync=j,h.monkeypatch=J,h.unmonkeypatch=K;var w=L,P=w.realpath,D=w.realpathSync,H=process.version,T=/^v[0-5]\./.test(H),M=b;function z(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function h(e,t,a){if(T)return P(e,t,a);typeof t=="function"&&(a=t,t=null),P(e,t,function(i,o){z(i)?M.realpath(e,t,a):a(i,o)})}function j(e,t){if(T)return D(e,t);try{return D(e,t)}catch(a){if(z(a))return M.realpathSync(e,t);throw a}}function J(){w.realpath=h,w.realpathSync=j}function K(){w.realpath=P,w.realpathSync=D}var Q=A(q);export{Q as default};
